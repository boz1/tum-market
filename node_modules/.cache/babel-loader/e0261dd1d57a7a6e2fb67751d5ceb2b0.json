{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JFrancisco\\\\Documents\\\\tum-market\\\\src\\\\components\\\\trade\\\\TradeRequest.js\";\nimport React, { Component } from 'react';\nimport firebase from '../../config/firebaseConfig';\nimport Card from 'react-bootstrap/Card';\nexport default class TradeRequest extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      receivedItem: {},\n      sentItem: {},\n      otherParty: {}\n    };\n    this.setItems = this.setItems.bind(this);\n  }\n\n  componentDidMount() {\n    this.setItems();\n  }\n\n  componentWillUnmount() {\n    this.receivedRef.off('value');\n    this.receivedRef = null;\n    this.sentItemRef.off('value');\n    this.sentItemRef = null;\n    this.otherPartyRef.off('value');\n    this.otherPartyRef = null;\n  }\n\n  setItems() {\n    const item = this.props.item;\n\n    if (this.props.type === \"received\") {\n      this.receivedRef = firebase.database().ref('advertisements').child(item.buyerId).child(item.receivedItemId);\n      this.receivedRef.on('value', snap => {\n        this.setState({\n          receivedItem: snap.val()\n        });\n      });\n      this.sentItemRef = firebase.database().ref('advertisements').child(item.userId).child(item.sentItemId);\n      this.sentItemRef.on('value', snap => {\n        this.setState({\n          sentItem: snap.val()\n        });\n      });\n      this.otherPartyRef = firebase.database().ref('users').child(item.buyerId);\n      this.otherPartyRef.on('value', snap => {\n        this.setState({\n          otherParty: snap.val()\n        });\n      });\n    }\n\n    if (this.props.type === \"sent\") {\n      this.receivedRef = firebase.database().ref('advertisements').child(item.sellerId).child(item.targetItemId);\n      this.receivedRef.on('value', snap => {\n        this.setState({\n          receivedItem: snap.val()\n        });\n      });\n      this.sentItemRef = firebase.database().ref('advertisements').child(item.userId).child(item.offeredItemId);\n      this.sentItemRef.on('value', snap => {\n        this.setState({\n          sentItem: snap.val()\n        });\n      });\n      this.otherPartyRef = firebase.database().ref('users').child(item.sellerId);\n      this.otherPartyRef.on('value', snap => {\n        this.setState({\n          otherParty: snap.val()\n        });\n      });\n    }\n  }\n\n  render() {\n    const item = this.props.item;\n    const type = this.props.type;\n    let request;\n\n    if (type === \"received\") {\n      request = React.createElement(Card, {\n        style: {\n          width: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"text-sub-title\",\n        style: {\n          color: \"coral\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Received Offer - \", item.id)), React.createElement(Card.Body, {\n        style: {\n          background: \"#FFE7DF\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"You Receive: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, this.state.receivedItem.title, \" - ID \", this.state.receivedItem.id)), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"You Send: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.state.sentItem.title, \"  - ID \", this.state.sentItem.id)), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"From: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, this.state.otherParty.name, \" - \", this.state.otherParty.email))));\n    } else if (type === \"sent\") {\n      request = React.createElement(Card, {\n        style: {\n          width: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"text-sub-title\",\n        style: {\n          color: \"#3DA09B\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Sent Offer - \", item.id)), React.createElement(Card.Body, {\n        style: {\n          background: \"#DBEDEC\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"You Receive: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, this.state.receivedItem.title, \" - ID \", this.state.receivedItem.id)), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"You Send: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, this.state.sentItem.title, \"  - ID \", this.state.sentItem.id)), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"To: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, this.state.otherParty.name, \" - \", this.state.otherParty.email))));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, request);\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\JFrancisco\\Documents\\tum-market\\src\\components\\trade\\TradeRequest.js"],"names":["React","Component","firebase","Card","TradeRequest","constructor","props","state","receivedItem","sentItem","otherParty","setItems","bind","componentDidMount","componentWillUnmount","receivedRef","off","sentItemRef","otherPartyRef","item","type","database","ref","child","buyerId","receivedItemId","on","snap","setState","val","userId","sentItemId","sellerId","targetItemId","offeredItemId","render","request","width","color","id","background","title","name","email"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport firebase from '../../config/firebaseConfig';\r\nimport Card from 'react-bootstrap/Card';\r\n\r\nexport default class TradeRequest extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            receivedItem: {},\r\n            sentItem: {},\r\n            otherParty: {}\r\n        }\r\n\r\n        this.setItems = this.setItems.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.setItems()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.receivedRef.off('value')\r\n        this.receivedRef = null;\r\n\r\n        this.sentItemRef.off('value')\r\n        this.sentItemRef = null;\r\n\r\n        this.otherPartyRef.off('value')\r\n        this.otherPartyRef = null;\r\n    }\r\n\r\n    setItems() {\r\n        const item = this.props.item;\r\n\r\n        if (this.props.type === \"received\") {\r\n            this.receivedRef = firebase.database().ref('advertisements').child(item.buyerId).child(item.receivedItemId)\r\n            this.receivedRef.on('value', snap => {\r\n                this.setState({\r\n                    receivedItem: snap.val()\r\n                })\r\n            })\r\n\r\n            this.sentItemRef = firebase.database().ref('advertisements').child(item.userId).child(item.sentItemId)\r\n            this.sentItemRef.on('value', snap => {\r\n                this.setState({\r\n                    sentItem: snap.val()\r\n                })\r\n            })\r\n\r\n            this.otherPartyRef = firebase.database().ref('users').child(item.buyerId)\r\n            this.otherPartyRef.on('value', snap => {\r\n                this.setState({\r\n                    otherParty: snap.val()\r\n                })\r\n            })\r\n        }\r\n\r\n        if (this.props.type === \"sent\") {\r\n            this.receivedRef = firebase.database().ref('advertisements').child(item.sellerId).child(item.targetItemId)\r\n            this.receivedRef.on('value', snap => {\r\n                this.setState({\r\n                    receivedItem: snap.val()\r\n                })\r\n            })\r\n\r\n            this.sentItemRef = firebase.database().ref('advertisements').child(item.userId).child(item.offeredItemId)\r\n            this.sentItemRef.on('value', snap => {\r\n                this.setState({\r\n                    sentItem: snap.val()\r\n                })\r\n            })\r\n\r\n            this.otherPartyRef = firebase.database().ref('users').child(item.sellerId)\r\n            this.otherPartyRef.on('value', snap => {\r\n                this.setState({\r\n                    otherParty: snap.val()\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const item = this.props.item;\r\n        const type = this.props.type;\r\n        let request;\r\n\r\n        if (type === \"received\") {\r\n            request = <Card style={{width:\"auto\"}}>\r\n                <Card.Header><span className=\"text-sub-title\" style={{color:\"coral\"}}>Received Offer - {item.id}</span></Card.Header>\r\n                <Card.Body style={{background:\"#FFE7DF\"}}>\r\n                    <Card.Text>\r\n                        You Receive: <strong>{this.state.receivedItem.title} - ID {this.state.receivedItem.id}</strong>\r\n                    </Card.Text>\r\n                    <Card.Text>\r\n                        You Send: <strong>{this.state.sentItem.title}  - ID {this.state.sentItem.id}</strong>\r\n                    </Card.Text>\r\n                    <Card.Text>\r\n                        From: <strong>{this.state.otherParty.name} - {this.state.otherParty.email}</strong>\r\n                    </Card.Text>\r\n                </Card.Body>\r\n            </Card>\r\n        }\r\n        else if (type === \"sent\") {\r\n            request = <Card style={{width:\"auto\"}}>\r\n                <Card.Header><span className=\"text-sub-title\" style={{color:\"#3DA09B\"}}>Sent Offer - {item.id}</span></Card.Header>\r\n                <Card.Body style={{background:\"#DBEDEC\"}}>\r\n                    <Card.Text>\r\n                        You Receive: <strong>{this.state.receivedItem.title} - ID {this.state.receivedItem.id}</strong>\r\n                    </Card.Text>\r\n                    <Card.Text>\r\n                        You Send: <strong>{this.state.sentItem.title}  - ID {this.state.sentItem.id}</strong>\r\n                    </Card.Text>\r\n                    <Card.Text>\r\n                        To: <strong>{this.state.otherParty.name} - {this.state.otherParty.email}</strong>\r\n                    </Card.Text>\r\n                </Card.Body>\r\n            </Card>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {request}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}