{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JFrancisco\\\\Documents\\\\tum-market\\\\src\\\\components\\\\advertisement\\\\AdvertisementList.js\";\nimport React, { Component } from 'react';\nimport Advertisment from './Advertisement';\nimport Title from '../Title';\nimport CardDeck from 'react-bootstrap/CardDeck';\nimport Colbar from '../Colbar';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport ReactPaginate from 'react-paginate';\nexport default class AdvertisementList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePageClick = data => {\n      let selected = data.selected;\n      this.setState({\n        currentPage: selected\n      });\n    };\n\n    this.state = {\n      data: this.props.adsList,\n      user: this.props.user,\n      itemPerPage: 6,\n      currentPage: 0,\n      pageCount: Math.ceil(this.props.adsList.length / 6),\n      sort: ''\n    };\n    this.sortAZ = this.sortAZ.bind(this);\n    this.sortZA = this.sortZA.bind(this);\n    this.componentWillReceiveProps = this.componentWillReceiveProps.bind(this);\n    this.dynamicSort = this.dynamicSort.bind(this);\n    this.pricesort = this.pricesort.bind(this);\n    this.pricesortReverse = this.pricesortReverse.bind(this);\n    this.datesort = this.datesort.bind(this);\n    this.datesortReverse = this.datesortReverse.bind(this);\n    this.getData = this.getData.bind(this);\n  }\n\n  componentWillReceiveProps() {\n    this.setState({\n      data: this.props.adsList,\n      pageCount: Math.ceil(this.props.adsList.length / this.state.itemPerPage)\n    });\n  }\n\n  dynamicSort(property) {\n    var sortOrder = 1;\n\n    if (property[0] === \"-\") {\n      sortOrder = -1;\n      property = property.substr(1);\n    }\n\n    return function (a, b) {\n      if (sortOrder === -1) {\n        return b[property].localeCompare(a[property]);\n      } else {\n        return a[property].localeCompare(b[property]);\n      }\n    };\n  }\n\n  sortAZ() {\n    this.setState({\n      data: this.state.data.sort(this.dynamicSort(\"title\")),\n      sort: \"A-Z\"\n    });\n  }\n\n  sortZA() {\n    this.setState({\n      data: this.state.data.sort(this.dynamicSort(\"-title\")),\n      sort: \"Z-A\"\n    });\n  }\n\n  pricesort() {\n    this.setState({\n      data: this.state.data.sort(function (obj1, obj2) {\n        return Number(obj1.price) - Number(obj2.price);\n      }),\n      sort: \"€-€€€\"\n    });\n  }\n\n  pricesortReverse() {\n    this.setState({\n      data: this.state.data.sort(function (obj1, obj2) {\n        return Number(obj1.price) - Number(obj2.price);\n      }).reverse(),\n      sort: \"€€€-€\"\n    });\n  }\n\n  datesort() {\n    this.setState({\n      data: this.state.data.sort(function (obj1, obj2) {\n        return new Date(obj1.dateAdded) - new Date(obj2.dateAdded);\n      }),\n      sort: \"Old to New\"\n    });\n  }\n\n  datesortReverse() {\n    this.setState({\n      data: this.state.data.sort(function (obj1, obj2) {\n        return new Date(obj2.dateAdded) - new Date(obj1.dateAdded);\n      }),\n      sort: \"New to Old\"\n    });\n  }\n\n  getData() {\n    const bottomLimit = this.state.currentPage * this.state.itemPerPage;\n    const topLimit = (this.state.currentPage + 1) * this.state.itemPerPage;\n    let pageData = this.state.data.slice(bottomLimit, topLimit);\n\n    if (this.state.sort === '') {\n      pageData.sort(function (obj1, obj2) {\n        return obj1.user.isPremium === obj2.user.isPremium ? 0 : obj1 ? -1 : 1;\n      });\n    }\n\n    return pageData.map(ad => React.createElement(Advertisment, {\n      key: ad.id,\n      ad: ad,\n      user: this.state.user,\n      categories: this.props.categories,\n      subCategories: this.props.subCategories,\n      conditions: this.props.conditions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }));\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12 d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3 mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Colbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Title, {\n      title: this.props.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row mt-2 ml-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontSize: \"16px\",\n        paddingTop: \"7px\",\n        color: \"#2A2525\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.state.sort), React.createElement(Dropdown, {\n      style: {\n        background: \"#3482D1\",\n        borderRadius: \"0.25rem\",\n        marginLeft: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Dropdown.Toggle, {\n      variant: \"info\",\n      id: \"dropdown-basic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Sort By\"), React.createElement(Dropdown.Menu, {\n      alignRight: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Dropdown.Item, {\n      onClick: this.sortAZ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"A-Z\"), React.createElement(Dropdown.Item, {\n      onClick: this.sortZA,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Z-A\"), React.createElement(Dropdown.Item, {\n      onClick: this.pricesort,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"\\u20AC-\\u20AC\\u20AC\\u20AC\"), React.createElement(Dropdown.Item, {\n      onClick: this.pricesortReverse,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"\\u20AC\\u20AC\\u20AC-\\u20AC\"), React.createElement(Dropdown.Item, {\n      onClick: this.datesortReverse,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"New to Old\"), React.createElement(Dropdown.Item, {\n      onClick: this.datesort,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Old to New\")))))), React.createElement(\"hr\", {\n      className: \"my-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(CardDeck, {\n      className: \"mb-5 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, this.state.data.length > 0 ? this.getData() : React.createElement(\"div\", {\n      style: {\n        textAlign: 'center',\n        fontSize: \"16px\",\n        margin: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"No advertisements found.\")), this.state.data.length > 0 ? React.createElement(\"div\", {\n      className: \"my-2\",\n      style: {\n        background: \"#D0E4F7\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(ReactPaginate, {\n      previousLabel: '<',\n      nextLabel: '>',\n      breakLabel: '...',\n      breakClassName: 'break-me',\n      pageCount: this.state.pageCount,\n      marginPagesDisplayed: 2,\n      pageRangeDisplayed: 5,\n      onPageChange: this.handlePageClick,\n      containerClassName: 'pagination',\n      subContainerClassName: 'pages pagination',\n      activeClassName: 'active',\n      nextClassName: 'prev-next',\n      previousClassName: 'prev-next',\n      previousLinkClassName: 'text-decoration-none',\n      nextLinkClassName: 'text-decoration-none',\n      pageLinkClassName: 'page-link',\n      pageClassName: 'page',\n      activeLinkClassName: 'active-link',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }))) : \"\")));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\JFrancisco\\Documents\\tum-market\\src\\components\\advertisement\\AdvertisementList.js"],"names":["React","Component","Advertisment","Title","CardDeck","Colbar","Dropdown","ReactPaginate","AdvertisementList","constructor","props","handlePageClick","data","selected","setState","currentPage","state","adsList","user","itemPerPage","pageCount","Math","ceil","length","sort","sortAZ","bind","sortZA","componentWillReceiveProps","dynamicSort","pricesort","pricesortReverse","datesort","datesortReverse","getData","property","sortOrder","substr","a","b","localeCompare","obj1","obj2","Number","price","reverse","Date","dateAdded","bottomLimit","topLimit","pageData","slice","isPremium","map","ad","id","categories","subCategories","conditions","render","title","fontSize","paddingTop","color","background","borderRadius","marginLeft","textAlign","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Advertisment from './Advertisement'\r\nimport Title from '../Title'\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport Colbar from '../Colbar'\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport ReactPaginate from 'react-paginate';\r\n\r\nexport default class AdvertisementList extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            data: this.props.adsList,\r\n            user: this.props.user,\r\n            itemPerPage: 6,\r\n            currentPage: 0,\r\n            pageCount: Math.ceil(this.props.adsList.length / 6),\r\n            sort: ''\r\n        }\r\n\r\n        this.sortAZ = this.sortAZ.bind(this)\r\n        this.sortZA = this.sortZA.bind(this)\r\n        this.componentWillReceiveProps = this.componentWillReceiveProps.bind(this)\r\n        this.dynamicSort = this.dynamicSort.bind(this)\r\n        this.pricesort = this.pricesort.bind(this)\r\n        this.pricesortReverse = this.pricesortReverse.bind(this)\r\n        this.datesort = this.datesort.bind(this)\r\n        this.datesortReverse = this.datesortReverse.bind(this)\r\n        this.getData = this.getData.bind(this)\r\n    }\r\n\r\n    componentWillReceiveProps() {\r\n        this.setState({ data: this.props.adsList, pageCount: Math.ceil(this.props.adsList.length / this.state.itemPerPage) })\r\n    }\r\n\r\n    dynamicSort(property) {\r\n        var sortOrder = 1;\r\n\r\n        if (property[0] === \"-\") {\r\n            sortOrder = -1;\r\n            property = property.substr(1);\r\n        }\r\n\r\n        return function (a, b) {\r\n            if (sortOrder === -1) {\r\n                return b[property].localeCompare(a[property]);\r\n            } else {\r\n                return a[property].localeCompare(b[property]);\r\n            }\r\n        }\r\n    }\r\n\r\n    sortAZ() {\r\n        this.setState({ data: this.state.data.sort(this.dynamicSort(\"title\")), sort: \"A-Z\" })\r\n    }\r\n\r\n    sortZA() {\r\n        this.setState({ data: this.state.data.sort(this.dynamicSort(\"-title\")), sort: \"Z-A\" })\r\n    }\r\n\r\n    pricesort() {\r\n        this.setState({ data: this.state.data.sort(function (obj1, obj2) { return Number(obj1.price) - Number(obj2.price) }), sort: \"€-€€€\" })\r\n    }\r\n\r\n    pricesortReverse() {\r\n        this.setState({ data: this.state.data.sort(function (obj1, obj2) { return Number(obj1.price) - Number(obj2.price) }).reverse(), sort: \"€€€-€\" })\r\n    }\r\n\r\n    datesort() {\r\n        this.setState({\r\n            data: this.state.data.sort(function (obj1, obj2) {\r\n                return new Date(obj1.dateAdded) - new Date(obj2.dateAdded)\r\n            }),\r\n            sort: \"Old to New\"\r\n        })\r\n    }\r\n\r\n    datesortReverse() {\r\n        this.setState({ data: this.state.data.sort(function (obj1, obj2) { return new Date(obj2.dateAdded) - new Date(obj1.dateAdded) }), sort: \"New to Old\" })\r\n    }\r\n\r\n    handlePageClick = data => {\r\n        let selected = data.selected;\r\n        this.setState({ currentPage: selected })\r\n    };\r\n\r\n    getData() {\r\n        const bottomLimit = this.state.currentPage * this.state.itemPerPage\r\n        const topLimit = (this.state.currentPage + 1) * this.state.itemPerPage\r\n        let pageData = this.state.data.slice(bottomLimit, topLimit)\r\n        if (this.state.sort === '') {\r\n            pageData.sort(function (obj1, obj2) {\r\n                return (obj1.user.isPremium === obj2.user.isPremium) ? 0 : obj1 ? -1 : 1;\r\n            });\r\n        }\r\n        return pageData.map((ad) => <Advertisment key={ad.id} ad={ad} user={this.state.user} categories={this.props.categories} subCategories={this.props.subCategories} conditions={this.props.conditions}/>)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className='col-md-12 d-flex'>\r\n                    <div className=\"col-md-3 mt-5\">\r\n                        <Colbar></Colbar>\r\n                    </div>\r\n                    <div className=\"col-md-9\">\r\n                        <form className=\"form-inline\">\r\n                            <Title title={this.props.title} />\r\n                            <div className=\"row mt-2 ml-auto\">\r\n                                <div className=\"col-12\">\r\n                                    <span style={{ fontSize: \"16px\", paddingTop: \"7px\", color: \"#2A2525\" }}>{this.state.sort}</span>\r\n                                    <Dropdown style={{ background: \"#3482D1\", borderRadius: \"0.25rem\", marginLeft: \"20px\" }}>\r\n                                        <Dropdown.Toggle variant=\"info\" id=\"dropdown-basic\">Sort By</Dropdown.Toggle>\r\n                                        <Dropdown.Menu alignRight>\r\n                                            <Dropdown.Item onClick={this.sortAZ}>A-Z</Dropdown.Item>\r\n                                            <Dropdown.Item onClick={this.sortZA}>Z-A</Dropdown.Item>\r\n                                            <Dropdown.Item onClick={this.pricesort}>€-€€€</Dropdown.Item>\r\n                                            <Dropdown.Item onClick={this.pricesortReverse}>€€€-€</Dropdown.Item>\r\n                                            <Dropdown.Item onClick={this.datesortReverse}>New to Old</Dropdown.Item>\r\n                                            <Dropdown.Item onClick={this.datesort}>Old to New</Dropdown.Item>\r\n                                        </Dropdown.Menu>\r\n                                    </Dropdown>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </form>\r\n                        <hr className=\"my-2\"></hr>\r\n                        <CardDeck className=\"mb-5 row\">\r\n                            {this.state.data.length > 0 ? this.getData() : <div style={{ textAlign: 'center', fontSize: \"16px\", margin: \"auto\" }}>No advertisements found.</div>}\r\n                        </CardDeck>\r\n                        {this.state.data.length > 0 ?\r\n                            <div className=\"my-2\" style={{ background: \"#D0E4F7\" }}>\r\n                                <span>\r\n                                    <ReactPaginate\r\n                                        previousLabel={'<'}\r\n                                        nextLabel={'>'}\r\n                                        breakLabel={'...'}\r\n                                        breakClassName={'break-me'}\r\n                                        pageCount={this.state.pageCount}\r\n                                        marginPagesDisplayed={2}\r\n                                        pageRangeDisplayed={5}\r\n                                        onPageChange={this.handlePageClick}\r\n                                        containerClassName={'pagination'}\r\n                                        subContainerClassName={'pages pagination'}\r\n                                        activeClassName={'active'}\r\n                                        nextClassName={'prev-next'}\r\n                                        previousClassName={'prev-next'}\r\n                                        previousLinkClassName={'text-decoration-none'}\r\n                                        nextLinkClassName={'text-decoration-none'}\r\n                                        pageLinkClassName={'page-link'}\r\n                                        pageClassName={'page'}\r\n                                        activeLinkClassName={'active-link'}\r\n                                    />\r\n                                </span>\r\n                            </div> : \"\"}\r\n                    </div>\r\n                </div>\r\n            </React.Fragment >\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}